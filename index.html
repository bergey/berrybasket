<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Berrybasket by bergey</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Berrybasket</h1>
        <p class="header">Open Hardware logging infrastructure (Raspberry Pi, Cosm, &amp; MCP3008)</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/bergey/berrybasket/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/bergey/berrybasket/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/bergey/berrybasket">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/bergey">bergey</a></p>


      </header>
      <section>

        <p>We teach about circuits, sensors, programming, and data
        visualization at our local hackerspace. To reach a wider
        audience, we are introducing open hardware in a nearby public
        school. Our project integrated with a unit on solar energy,
        where students build cardboard houses with features to reject
        or retain heat. </p>

        <p>We built an Internet-connected datalogger for use by about
        60 students in the 5th & 6th grade science classes, measuring
        temperature in 14 houses over 5 days. We installed the houses
        & sensors on the school roof, showed students the hardware &
        software involved, and facilitated class discussion & graphing
        of the data. Each class looked at the performance of their
        houses and discussed patterns caused by weather, daylight
        hours, and mass & window treatments of the houses.</p>

        <p>This website documents the hardware, software, and what we did in the school.</p>

<ul>
  <li><a href="#software">Software</a></li>
  <li><a href="#hardware">Hardware</a></li>
  <li><a href="#todo">Future Work</a></li>
  <li><a href="#classroom">Educational Connections</a></li>
</ul>

If you find some part of this useful for any purpose, we'd love to hear about it!  Reach us at <a href="mailto:bergey@thehacktory.org">&lt;bergey@thehacktory.org&gt;</a>.  If you have trouble making it work, let us know.

<h1>
<a name="software" class="anchor" href="#software"><span class="octicon octicon-link"></span></a>Software</h1>

<ol>
  <li>Install <a href="http://learn.adafruit.com/adafruit-raspberry-pi-educational-linux-distro">Adafruit Occidentalis</a> 0.2 on your Raspberry Pi.</li>
  <li>Plug the RasPi into your router, log into the router to find its IP address, and ssh into RasPi.</li>
  <li>Install the python SPI library.  (Details from <a href="http://jeremyblythe.blogspot.com/2012/09/raspberry-pi-hardware-spi-analog-inputs.html">this blog post</a>):
  <pre><code>git clone git://github.com/doceme/py-spidev
  cd py-spidev
  sudo python setup.py install
  </code></pre>
  </li>
  <li>Download and install python packages for the online data store of your choice:
  <ul>
    <li>Cosm API:
    <pre><code>git clone git://github.com/petervizi/python-eeml
    </code></pre>
    </li>
    <li>Thingspeak:
    <pre><code>pip install thingspeak</code></pre>
  </ul>
</li>
<li>
  Download the berrybasket logging script:
  <pre><code>git clone git://github.com/bergey/berrybasket.git</code></pre>
</li>
<li>
  Sign up for the online data store, create a new feed, and fill in the blanks in <code>config.json</code>.  <code>config.json</code> has several sections, one for each supported online data aggregator, currently just "cosm", and one for the CSV, "logfile".  You can leave out any section that you don't plan to use.  For Cosm, the required fields are:
  <ul>
    <li>api_key</li>

    <li>api_url appears in the URL of the feed webpage.  It's the number in http://cosm.com/feeds/84597</li>

  </ul></li></ol>

<h1>
<a name="hardware" class="anchor" href="#hardware"><span class="octicon octicon-link"></span></a>Hardware</h1>
<div>
<img src="images/assembling.jpg" width=400 />

<p>We're using the MCP3008 chip to convert analog measurements to digital.  The pins down one side of the chip are analog inputs; the other side connect to the computer.  The <a href="http://jeremyblythe.blogspot.com/2012/09/raspberry-pi-hardware-spi-analog-inputs.html">aforementioned blog post</a> has good pictures of which pins go to which Raspberry Pi connections. <a href="http://github.com/bergey/berrybasket/tree/master/adc board">Our schematic (below)</a> shows wiring up two ADC chips.  </p>

<table>
  <thead>
    <tr class="header">
      <th align="left">Function</th>
      <th align="left">Part #</th>
      <th align="left">Manufacturer</th>
      <th align="left">Vendor Link</th>
    </tr>
  </thead>
  <tbody>
    <tr class="odd">
      <td align="left">Analog Digital Converter</td>
      <td align="left">MCP3008</td>
      <td align="left">Microchip</td>
      <td align="left"><a href="http://www.digikey.com/product-detail/en/MCP3008-I%2FP/MCP3008-I%2FP-ND/319422">DigiKey</a></td>
    </tr>
    <tr class="even">
      <td align="left">Single Board Computer</td>
      <td align="left">RasPi Model B</td>
      <td align="left">Raspberry Pi</td>
      <td align="left"><a href="https://www.adafruit.com/products/998">Adafruit</a></td>
    </tr>
    <tr class="odd">
      <td align="left">Screw Terminal</td>
      <td align="left">282834-4</td>
      <td align="left">TE Connectivity</td>
      <td align="left"><a href="http://www.digikey.com/product-detail/en/282834-4/A98335-ND/1153265">DigiKey</a></td>
    </tr>
    <tr class="even">
      <td align="left">RasPi Perma-Proto</td>
      <td align="left">1135</td>
      <td align="left">Adafruit</td>
      <td align="left"><a href="https://www.adafruit.com/products/1135">Adafruit</a></td>
    </tr>
    <tr class="odd">
      <td align="left">13x2-pin ribbon cable</td>
      <td align="left">862</td>
      <td align="left">Adafruit</td>
      <td align="left"><a href="https://www.adafruit.com/products/862">Adafruit</a></td>
    </tr>
    <tr class="even">
      <td align="left">or RasPi T-Cobbler for prototyping</td>
      <td align="left">1105</td>
      <td align="left">Adafruit</td>
      <td align="left"><a href="https://www.adafruit.com/products/1105">Adafruit</a></td>
    </tr>
  </tbody>
</table>

      </div>
<h1>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>Future Work</h1>

<ul>
  <li>Allow measurement frequency to be specified in config file</li>
  <li>Specify channels to log in config file</li>
  <li>Add examples with specific sensors (thermistor, photoresistor)</li>
  <li>Add support for <a href="http://www.nimbits.com/">Nimbits</a></li>
  <li>Make it easier to use other sensors; Factor out thermistor-specific code.</li>
  <li>Make it easy to specify different sensors on different channels</li>
</ul>

<h1>
<a name="classroom" class="anchor" href="#classroom"><span class="octicon octicon-link"></span></a>Educational Connections</h1>
<p>To develop skills and confidence with technology, beginners need systems which they can take apart, modify, and occasionally break. Open hardware hackers can help by writing good documentation, designing systems which are simple to understand, and contextualizing our work in our communities. People of various levels of experience learn that technology is comprehensible & controllable when they form connections to their current activities and build on their strengths and prior knowledge.</p>
<p>Groups of 3 or 4 students decided whether their design goal was to stay warm or stay cool, and built a solar house tuned to that goal. Each house started with the same cardboard frame, with a hole to act as a window. Students added cups of dirt, water, or sand to store heat, one or more layers of plastic wrap over the window, and aluminum foil & black paper to cover the exterior. One house frame was left unmodified to act as a control.</p>
<p>Visual representation and interpretation of data are key literacy skills. Using real data and computer graphing for this exercise encourages students to view their environment as something that they can model.</p>
<p>Prior to designing their houses for the rooftop experiment, students performed more controlled experiments in the classroom, with electric lamps substituting for sunlight. They measured temperature and prepared graphs manually.</p>

      </section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>